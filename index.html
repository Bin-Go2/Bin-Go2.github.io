<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.ico">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
<meta property="og:type" content="website">
<meta property="og:title" content="Bin&#39;s blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Bin&#39;s blog">
<meta property="og:description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Bin">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Bin's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Bin's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">ä»Šæ—¥æ‘¸é±¼è¿›åº¦ï¼š 1/ âˆ</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/10/553week1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Bin">
      <meta itemprop="description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bin's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/10/553week1/" class="post-title-link" itemprop="url">æ•°æ®æŒ–æ˜, MapReduce ä»‹ç»</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-11-10 16:08:54 / Modified: 18:38:14" itemprop="dateCreated datePublished" datetime="2020-11-10T16:08:54-08:00">2020-11-10</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/11/10/553week1/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/11/10/553week1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><h2 id="Terms"><a href="#Terms" class="headerlink" title="Terms"></a>Terms</h2><ul>
<li><p>Data mining: Discover patterns and models that are:</p>
<ul>
<li>Valid:  hold on new data with some certainty</li>
<li>Useful:  should be possible to act on the item </li>
<li>Unexpected:  non-obvious to the system</li>
<li>Understandable: humans should be able to interpret the pattern</li>
</ul>
</li>
<li><p>DIKW Pyramid: Data, Information, Knowledge and wisdom<br>  <img src="/image/DIKW.png"></p>
</li>
<li><p>Data mining task: </p>
<ul>
<li>Descriptive Models: Find human-interpretable patterns that describe the data</li>
<li>Predictive Models: Use some variables to predict unknown or future values of other variables</li>
</ul>
</li>
<li><p>Data science pipeline<br><img src="/image/ds_pro.png"></p>
</li>
<li><p>Bonferroniâ€™s principle:(roughly) if you look in more places for interesting patterns than your amount of data will support, you are bound to find crap.(æ•°æ®æ”¯æ’‘çš„å‰ææ˜¯æ•°æ®) </p>
</li>
</ul>
<h2 id="Descriptive-Models"><a href="#Descriptive-Models" class="headerlink" title="Descriptive Models"></a>Descriptive Models</h2><p>Often, especially for ML-type algorithms, the result is a model = a simple representation of the data, typically used for prediction.<br>example: PageRank : representing the â€œimportanceâ€ of the page.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/11/10/553week1/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>


    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  
  
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/04/PBG-Evaluation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Bin">
      <meta itemprop="description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bin's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/04/PBG-Evaluation/" class="post-title-link" itemprop="url">PyTorch-BigGraph è¯„ä¼°</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-11-04 21:10:58 / Modified: 21:35:04" itemprop="dateCreated datePublished" datetime="2020-11-04T21:10:58-08:00">2020-11-04</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/11/04/PBG-Evaluation/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/11/04/PBG-Evaluation/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="PyTorch-BigGraph-è¯„ä¼°"><a href="#PyTorch-BigGraph-è¯„ä¼°" class="headerlink" title="PyTorch-BigGraph è¯„ä¼°"></a>PyTorch-BigGraph è¯„ä¼°</h1><p>During training, the average loss is reported for each edge bucket at each pass. Evaluation metrics can be computed on held-out data during or after training to measure the quality of trained embeddings.<br>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€æ¬¡epochä¸­çš„æ¯ä¸€ä¸ªæ¡¶çš„çš„å¹³å‡æŸå¤±ä¼šè¢«æ±‡æŠ¥ã€‚å¯ä»¥åœ¨è®­ç»ƒæœŸé—´æˆ–ä¹‹åæ ¹æ®ä¿ç•™çš„æ•°æ®è®¡ç®—è¯„ä¼°æŒ‡æ ‡ï¼Œä»¥æµ‹é‡è®­ç»ƒååµŒå…¥çš„è´¨é‡ã€‚</p>
<h2 id="Offline-evaluationÂ¶"><a href="#Offline-evaluationÂ¶" class="headerlink" title="Offline evaluationÂ¶"></a>Offline evaluationÂ¶</h2><p>The torchbiggraph_eval command will perform an offline evaluation of trained PBG embeddings on a validation dataset. This dataset should contain held-out data not included in the training dataset. It is invoked in the same way as the training command and takes the same arguments.<br>torchbiggraph_evalå‘½ä»¤å°†ä¼šå¯¹éªŒè¯æ•°æ®é›†æ‰§è¡Œè®­ç»ƒååµŒå…¥çš„ç¦»çº¿è¯„ä¼°ã€‚è¯¥æ•°æ®é›†åº”åŒ…å«è®­ç»ƒæ•°æ®é›†ä¸­æœªåŒ…å«çš„ä¿ç•™æ•°æ®ã€‚å®ƒä»¥ä¸è®­ç»ƒå‘½ä»¤ç›¸åŒçš„æ–¹å¼è°ƒç”¨ï¼Œå¹¶é‡‡ç”¨ç›¸åŒçš„å‚æ•°ã€‚</p>
<p>It is generally advisable to have two versions of the config file, one for training and one for evaluation, with the same parameters except for the edge paths, in order to evaluate a separate (and often smaller) set of edges. (Itâ€™s also possible to use a single config file and have it produce different output based on environment variables or other context). Training-specific config parameters (e.g., the learning rate, loss function, â€¦) will be ignored during evaluation.<br>é€šå¸¸å»ºè®®é…ç½®æ–‡ä»¶æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä¸€ä¸ªç”¨äºè®­ç»ƒï¼Œä¸€ä¸ªç”¨äºè¯„ä¼°ï¼Œé™¤äº†edge pathså‚æ•°å¤–ï¼Œå®ƒä»¬å…·æœ‰ç›¸åŒçš„å‚æ•°ï¼Œä»¥ä¾¿è¯„ä¼°ä¸€ç»„å•ç‹¬çš„ï¼ˆé€šå¸¸æ˜¯è¾ƒå°çš„ï¼‰è¾¹ã€‚ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨å•ä¸ªé…ç½®æ–‡ä»¶ï¼Œå¹¶æ ¹æ®ç¯å¢ƒå˜é‡æˆ–å…¶ä»–ä¸Šä¸‹æ–‡äº§ç”Ÿä¸åŒçš„è¾“å‡ºï¼‰ã€‚ è¯„ä¼°è¿‡ç¨‹ä¸­å°†å¿½ç•¥è®­ç»ƒä¸“ç”¨çš„é…ç½®å‚æ•°ï¼ˆä¾‹å¦‚ï¼Œå­¦ä¹ ç‡ï¼ŒæŸå¤±å‡½æ•°ç­‰ï¼‰ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/11/04/PBG-Evaluation/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>


    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  
  
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/04/Eva-Ranking-Problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Bin">
      <meta itemprop="description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bin's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/04/Eva-Ranking-Problem/" class="post-title-link" itemprop="url">æ’åé—®é¢˜ä¸­çš„è¯„ä¼°æŒ‡æ ‡</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-11-04 18:16:50 / Modified: 20:12:43" itemprop="dateCreated datePublished" datetime="2020-11-04T18:16:50-08:00">2020-11-04</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/11/04/Eva-Ranking-Problem/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/11/04/Eva-Ranking-Problem/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Ranking-Problems"><a href="#Ranking-Problems" class="headerlink" title="Ranking Problems"></a>Ranking Problems</h2><p>In many domains, data scientists are asked to not just predict what class/classes an example belongs to, but to rank classes according to how likely they are for a particular example.<br>åœ¨è®¸å¤šé¢†åŸŸï¼Œæ•°æ®ç§‘å­¦å®¶ä¸ä»…è¢«è¦æ±‚é¢„æµ‹ä¸€ä¸ªç¤ºä¾‹å±äºå“ªä¸ªç±»åˆ«ï¼Œè¿˜åº”æ ¹æ®ç‰¹å®šç¤ºä¾‹å¯¹å®ƒä»¬è¿›è¡Œåˆ†ç±»çš„å¯èƒ½æ€§æ¥å¯¹ç±»åˆ«è¿›è¡Œæ’åã€‚</p>
<table>
<thead>
<tr>
<th>Classification</th>
<th>Ranking</th>
</tr>
</thead>
<tbody><tr>
<td>Order of predictions doesnâ€™t matter</td>
<td>Order of predictions does matter</td>
</tr>
</tbody></table>
<p>This is often the case because, in the real world, resources are limited.<br>è¿™æ˜¯ç»å¸¸å‘ç”Ÿçš„æƒ…å†µï¼Œå› ä¸ºåœ¨ç°å®ä¸–ç•Œä¸­ï¼Œèµ„æºæ˜¯æœ‰é™çš„ã€‚</p>
<p>This means that whoever will use the predictions your model makes has limited time, limited space. So they will likely prioritize.Some domains where this effect is particularly noticeable:<br>è¿™æ„å‘³ç€å¯¹äºé¢„æµ‹å‡ºçš„ç»“æœï¼Œä»»ä½•äººåªèƒ½æœ‰é™çš„ç©ºé—´ä»¥åŠæ—¶é—´ï¼Œæ‰€ä»¥ä»–ä»¬æ›´å€¾å‘äºä¼˜å…ˆçº§é«˜çš„ã€‚åœ¨ä¸€äº›ç‰¹å®šé¢†åŸŸå°¤å…¶æ˜æ˜¾:</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/11/04/Eva-Ranking-Problem/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>


    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  
  
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/04/Eva-Classification-Problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Bin">
      <meta itemprop="description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bin's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/04/Eva-Classification-Problem/" class="post-title-link" itemprop="url">åˆ†ç±»é—®é¢˜ä¸­çš„è¯„ä¼°æŒ‡æ ‡</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-11-04 15:38:43 / Modified: 20:17:27" itemprop="dateCreated datePublished" datetime="2020-11-04T15:38:43-08:00">2020-11-04</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/11/04/Eva-Classification-Problem/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/11/04/Eva-Classification-Problem/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Term"><a href="#Term" class="headerlink" title="Term"></a>Term</h2><ul>
<li>True Positives (TP): should be TRUE, you predicted TRUE</li>
<li>False Positives (FP): should be FALSE, you predicted TRUE</li>
<li>True Negative (TN): should be FALSE, you predicted FALSE</li>
<li>False Negatives (FN): should be TRUE, you predicted FALSE</li>
</ul>
<p>ä¸ªäººçœ‹æ¥ï¼ŒTPå’ŒTNéƒ½å¾ˆå¥½ç†è§£ï¼ŒäºŒè€…åæ˜ äº†æ¨¡å‹å¯¹äºé¢„æµ‹çš„å‡†ç¡®æ€§ã€‚FPå’ŒFNæœ‰ç‚¹å®¹æ˜“è®°ä¸å¤ªé¡ºï¼Œæ‰€ä»¥ä½¿ç”¨ä¸€ä¸ªä¾‹å­å°±å¾ˆå¥½å»åŒºåˆ†ï¼š<br>å¼ ä¸‰å»çœ‹ç—…ï¼Œæ˜¯å¦å¾—äº†ç™Œç—‡, FP=&gt;è¯¯è¯Š, FN=&gt;æ²¡æŸ¥å‡ºæ¥ã€‚</p>
<h2 id="Accuracy-å‡†ç¡®ç‡"><a href="#Accuracy-å‡†ç¡®ç‡" class="headerlink" title="Accuracy - å‡†ç¡®ç‡"></a>Accuracy - å‡†ç¡®ç‡</h2><blockquote>
<p>What percentage of my predictions are correct? æ¨¡å‹é¢„æµ‹çš„æ­£ç¡®æ€§</p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/11/04/Eva-Classification-Problem/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>


    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  
  
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/30/PBG-Loss-calculation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Bin">
      <meta itemprop="description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bin's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/30/PBG-Loss-calculation/" class="post-title-link" itemprop="url">PyTorch-BigGraph æŸå¤±è®¡ç®—</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-30 16:05:30 / Modified: 18:23:13" itemprop="dateCreated datePublished" datetime="2020-10-30T16:05:30-07:00">2020-10-30</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/10/30/PBG-Loss-calculation/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/10/30/PBG-Loss-calculation/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="PyTorch-BigGraph-æŸå¤±è®¡ç®—"><a href="#PyTorch-BigGraph-æŸå¤±è®¡ç®—" class="headerlink" title="PyTorch-BigGraph æŸå¤±è®¡ç®—"></a>PyTorch-BigGraph æŸå¤±è®¡ç®—</h1><p>The training process aims at finding the embeddings for the entities so that the scores of the positive edges are higher than the scores of the negative edges. When unpacking what this means, three different aspects come into play:<br>è®­ç»ƒè¿‡ç¨‹æ—¨åœ¨æ‰¾åˆ°å®ä½“çš„åµŒå…¥ï¼Œä½¿å¾—æ­£è¾¹å®ä¾‹çš„å¾—åˆ†é«˜äºè´Ÿè¾¹å®ä¾‹çš„å¾—åˆ†ã€‚ å…·ä½“çš„è¯´ï¼Œåˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<p>â€¢ One must first determine which edges are to be considered as positive and negative samples.<br>â€¢ Then, once the scores of all the samples have been determined, one must decide how to aggregate them in a single loss value.<br>â€¢ Finally, one must decide how to go about optimizing that loss.</p>
<p>â€¢ é¦–å…ˆå¿…é¡»ç¡®å®šå“ªäº›è¾¹è¢«è§†ä¸ºæ­£æ ·æœ¬å’Œè´Ÿæ ·æœ¬ã€‚<br>â€¢ ç„¶åï¼Œä¸€æ—¦ç¡®å®šäº†æ‰€æœ‰æ ·æœ¬çš„å¾—åˆ†ï¼Œå°±å¿…é¡»å†³å®šå¦‚ä½•å°†å®ƒä»¬æ±‡æ€»ä¸ºä¸€ä¸ªæŸå¤±å€¼ã€‚<br>â€¢ æœ€åï¼Œå¿…é¡»å†³å®šå¦‚ä½•ä¼˜åŒ–è¿™ä¸€æŸå¤±ã€‚</p>
<p>This chapter will dive into each of these issues.<br>æœ¬ç« å°†æ·±å…¥æ¢è®¨è¿™äº›é—®é¢˜ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/30/PBG-Loss-calculation/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>


    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  
  
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/28/PBG-Distributed-mode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Bin">
      <meta itemprop="description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bin's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/28/PBG-Distributed-mode/" class="post-title-link" itemprop="url">PyTorch-BigGraph åˆ†å¸ƒå¼</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-10-28 19:13:43" itemprop="dateCreated datePublished" datetime="2020-10-28T19:13:43-07:00">2020-10-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-30 18:23:40" itemprop="dateModified" datetime="2020-10-30T18:23:40-07:00">2020-10-30</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/10/28/PBG-Distributed-mode/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/10/28/PBG-Distributed-mode/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="PyTorch-BigGraph-åˆ†å¸ƒå¼"><a href="#PyTorch-BigGraph-åˆ†å¸ƒå¼" class="headerlink" title="PyTorch-BigGraph åˆ†å¸ƒå¼"></a>PyTorch-BigGraph åˆ†å¸ƒå¼</h1><p>PBG can perform training across multiple machines which communicate over a network, in order to reduce training time on large graphs. Distributed training is able to concurrently utilize larger computing resources, as well as to keep the entire model stored in memory across all machines, avoiding the need to swap it to disk. On each machine, the training is further parallelized across multiple subprocesses.<br>PBGå¯ä»¥åœ¨é€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡çš„å¤šå°æœºå™¨ä¸Šæ‰§è¡Œè®­ç»ƒï¼Œä»¥å‡å°‘å¤§å›¾ä¸Šçš„è®­ç»ƒæ—¶é—´ã€‚åˆ†å¸ƒå¼è®­ç»ƒèƒ½å¤Ÿåˆ©ç”¨å·¨å¤§çš„è®¡ç®—èµ„æºï¼ŒåŒæ—¶å…¶å¯ä»¥å°†æ•´ä¸ªæ¨¡å‹å­˜å‚¨åœ¨æ‰€æœ‰æœºå™¨çš„å†…å­˜ä¸­è€Œä¸éœ€è¦è¿›è¡Œç£ç›˜äº¤æ¢ã€‚åœ¨æ¯ä¸€å°æœºå™¨ä¸Šï¼Œè®­ç»ƒé€šè¿‡å¤šä¸ªå­è¿›ç¨‹è¿›è¡Œã€‚</p>
<h2 id="Set-up"><a href="#Set-up" class="headerlink" title="Set up"></a>Set up</h2><p>In order to perform distributed training, the configuration file must first be updated to contain the specification of the desired distributed setup. If training should be carried out on ğ‘ machines, then the num_machines key in the config must be set to that value. In addition, the distributed_init_method must describe a way for the trainers to discover each other and set up their communication. All valid values for the init_method argument of torch.distributed.init_process_group() are accepted here. Usually this will be a path to a shared network filesystem or the network address of one of the machines. See the PyTorch docs for more information and a complete reference.<br>ä¸ºäº†æ‰§è¡Œåˆ†å¸ƒå¼è®­ç»ƒï¼Œé…ç½®æ–‡ä»¶å¿…é¡»é¦–å…ˆè¿›è¡Œç›¸åº”é…ç½®ï¼Œå…¶éœ€è¦åŒ…æ‹¬åˆ†å¸ƒå¼éƒ¨ç½²çš„ç›¸å…³é…ç½®ã€‚å¦‚æœè®­ç»ƒåœ¨Nå°æœºå™¨ä¸Šè¿è¡Œï¼Œnum_machineså¿…é¡»è¦è¦é…ç½®æˆNã€‚å¦å¤–ï¼Œdistributed_init_methodå¿…é¡»æè¿°å„ä¸ªæœºå™¨ä¹‹é—´çš„é€šä¿¡æ–¹å¼ã€‚è¿™é‡Œèƒ½å¤Ÿæ¥å—æ‰€æœ‰torch.distributed.init_process_group()é‡Œé¢çš„å‚æ•°ã€‚é€šå¸¸æ¥è¯´ï¼Œåˆ†å¸ƒå¼è®­ç»ƒå°†ä¸€å°è®¡ç®—æœºçš„ç½‘ç»œåœ°å€è®¾ç½®ä¸ºæ–‡ä»¶å…±äº«ç³»ç»Ÿçš„åœ°å€ã€‚ æœ‰å…³æ›´å¤šä¿¡æ¯å’Œå®Œæ•´å‚è€ƒï¼Œè¯·å‚è§PyTorchæ–‡æ¡£ã€‚</p>
<p>To launch distributed training, call torchbiggraph_train â€“rank rank config.py on each machine, with rank replaced by an integer between 0 and ğ‘âˆ’1 (inclusive), different for each machine. Each machine must have PBG installed and have a copy of the config file.<br>è¦å¯åŠ¨åˆ†å¸ƒå¼è®­ç»ƒï¼Œé¦–å…ˆåœ¨æ¯å°æœºå™¨ä¸Šè°ƒç”¨torchbiggraph_train â€“rank rank config.pyï¼Œ å…¶ä¸­æ¯å°æœºå™¨æœ‰å„è‡ªçš„rankå€¼ï¼ˆä»1åˆ°N-1ï¼‰ã€‚æ¯å°æœºå™¨å¿…é¡»å®‰è£…äº†PBGï¼Œå¹¶ä¸”å…·æœ‰é…ç½®æ–‡ä»¶çš„å‰¯æœ¬ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/28/PBG-Distributed-mode/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>


    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  
  
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/27/PBG-Batch-preparation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Bin">
      <meta itemprop="description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bin's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/27/PBG-Batch-preparation/" class="post-title-link" itemprop="url">PyTorch-BigGraph  æ‰¹å‡†å¤‡</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-10-27 23:05:23" itemprop="dateCreated datePublished" datetime="2020-10-27T23:05:23-07:00">2020-10-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-30 18:23:53" itemprop="dateModified" datetime="2020-10-30T18:23:53-07:00">2020-10-30</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/10/27/PBG-Batch-preparation/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/10/27/PBG-Batch-preparation/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="PBG-æ‰¹å‡†å¤‡"><a href="#PBG-æ‰¹å‡†å¤‡" class="headerlink" title="PBG æ‰¹å‡†å¤‡"></a>PBG æ‰¹å‡†å¤‡</h1><p>This section presents how the training data is prepared and organized in batches before the loss is calculated and optimized on each of them.<br>æœ¬èŠ‚ä»‹ç»äº†å¦‚ä½•åœ¨è®¡ç®—å’Œä¼˜åŒ–æŸå¤±ä¹‹å‰å¦‚ä½•å¯¹è®­ç»ƒæ•°æ®è¿›è¡Œå‡†å¤‡å’Œç»„ç»‡ã€‚</p>
<p>Training proceeds by iterating over the edges, through various nested loops. The outermost one walks through so-called epochs. Each epoch is independent and essentially equivalent to every other one. Their goal is to repeat the inner loop until convergence. Each epoch visits all the edges exactly once. The number of epochs is specified in the num_epochs configuration parameter.<br>è®­ç»ƒè¿‡ç¨‹é€šè¿‡ä¸æ–­åµŒå¥—å¾ªç¯å„æ¡è¾¹æ¥è¿›è¡Œã€‚æ‰€æœ‰è¾¹éƒ½è¢«è®­ç»ƒè¿‡ä¸€æ¬¡å«åšä¸€ä¸ªepochï¼Œæ¯ä¸€ä¸ªepochéƒ½æ˜¯äº’ç›¸ç‹¬ç«‹ä¸”å¹³ç­‰çš„ã€‚ä»–ä»¬çš„ç›®æ ‡éƒ½æ˜¯ä¸ºäº†é‡å¤è®­ç»ƒè¾¹æœ€ç»ˆè¾¾åˆ°æ”¶æ•›çš„æ•ˆæœã€‚æ¯ä¸€ä¸ªepochåªè®¿é—®æ¯ä¸€æ¡ä¸€æ¬¡ã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­çš„num_epochsæŒ‡å®šepochæ•°ç›®ã€‚</p>
<p>The edges are partitioned into edge sets (one for each directory of the edge_paths configuration key) and, within each epoch, the edge sets are traversed in order.<br>å›¾ä¸­çš„è¾¹è¢«åˆ’åˆ†ä¸ºè¾¹é›†åˆçš„å½¢å¼ï¼ˆedge_pathsç›®å½•ä¸‹çš„æ¯ä¸ªæ–‡ä»¶è¡¨ç¤ºä¸€ä¸ªè¾¹é›†åˆï¼‰ï¼Œåœ¨æ¯ä¸€ä¸ªepochä¸‹ï¼Œè¿™äº›è¾¹é›†åˆæŒ‰ç…§é¡ºåºè®¿é—®éå†ã€‚</p>
<p>When iterating over an edge set, each of its buckets is first divided into equally sized chunks: each chunk spans a contiguous interval of edges (in the order they are stored in the files) and the number of chunks can be tweaked using the num_edge_chunks configuration key. The training first operates on the all the first chunks of all buckets, then on all of their second chunks, and so on.<br>å½“åœ¨æŸä¸€ä¸ªè¾¹é›†åˆä¸Šè¿›è¡Œè¿­ä»£è®­ç»ƒçš„æ—¶å€™ï¼Œæ¯ä¸€ä¸ªæ¡¶ï¼ˆä¸€ä¸ªè¾¹é›†åˆï¼‰é¦–å…ˆè¢«åˆ’åˆ†æˆç›¸åŒå¤§å°çš„chunksï¼Œæ¯ä¸€ä¸ªchunkè·¨åº¦è¿ç»­çš„è¾¹é—´éš”ï¼ˆæŒ‰å®ƒä»¬å­˜å‚¨åœ¨æ–‡ä»¶ä¸­çš„é¡ºåºï¼‰ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨num_edge_chunksæ¥è®¾ç½®chunkçš„å¤§å°ã€‚è®­ç»ƒé¦–å…ˆå¯¹æ¡¶ä¸­çš„ç¬¬ä¸€ä¸ªchunkè¿›è¡Œè®­ç»ƒï¼Œç„¶åå¯¹ç¬¬äºŒä¸ªï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/27/PBG-Batch-preparation/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>


    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  
  
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/27/PBG-I-O-format/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Bin">
      <meta itemprop="description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bin's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/27/PBG-I-O-format/" class="post-title-link" itemprop="url">PyTorch-BigGraph I/O æ ¼å¼</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-10-27 00:23:33" itemprop="dateCreated datePublished" datetime="2020-10-27T00:23:33-07:00">2020-10-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-30 18:23:28" itemprop="dateModified" datetime="2020-10-30T18:23:28-07:00">2020-10-30</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/10/27/PBG-I-O-format/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/10/27/PBG-I-O-format/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="PBG-I-Oæ ¼å¼"><a href="#PBG-I-Oæ ¼å¼" class="headerlink" title="PBG I/Oæ ¼å¼"></a>PBG I/Oæ ¼å¼</h1><h2 id="Entity-and-relation-types"><a href="#Entity-and-relation-types" class="headerlink" title="Entity and relation types"></a>Entity and relation types</h2><p>The list of entity types (each identified by a string), plus some information about each of them, is given in the <code>entities</code> dictionary in the configuration file. The list of relation types (each identified by its index in that list), plus some data like what their left- and right-hand side entity types are, is in the <code>relations</code> key of the configuration file.<br>å®ä½“ç±»å‹çš„åˆ—è¡¨(æ¯ä¸ªå®ä½“ç±»å‹ç”±ä¸€ä¸ªå­—ç¬¦ä¸²æ ‡è¯†)ä»¥åŠæœ‰å…³äºä»–ä»¬çš„ä¸€äº›ä¿¡æ¯ç”±é…ç½®æ–‡ä»¶ä¸­çš„å®ä½“å­—å…¸æä¾›ã€‚å…³ç³»ç±»å‹çš„åˆ—è¡¨ï¼ˆæ¯ä¸ªéƒ½ç”±è¯¥åˆ—è¡¨ä¸­çš„ç´¢å¼•æ ‡è¯†ï¼‰ä»¥åŠä¸€äº›æ•°æ®ï¼ˆå¦‚å…¶å·¦ä¾§å’Œå³ä¾§å®ä½“ç±»å‹ï¼‰åœ¨é…ç½®æ–‡ä»¶çš„relation keyä¸­æŒ‡ç¤ºã€‚</p>
<h2 id="Entities"><a href="#Entities" class="headerlink" title="Entities"></a>Entities</h2><p>The only information that needs to be provided about entities is how many there are in each entity typeâ€™s partition. This is done by putting a file named <code>entity_count_type_part.txt</code> for each entity type identified by <code>type</code> and each partition <code>part</code> in the directory specified by the <code>entity_path</code> config parameter. These files must contain a single integer (as text), which is the number of entities in that partition. The directory where all these files reside must be specified as the <code>entity_path</code> key of the configuration file.<br>å¯¹äºå®ä½“è€Œè¨€ï¼Œå…¶åªéœ€è¦æä¾›æ¯ç§å®ä½“ç±»å‹çš„åˆ†åŒºä¸­æœ‰å¤šå°‘ä¸ªå®ä½“è¿™æ ·ä¸€ä¸ªä¿¡æ¯å³å¯ã€‚ä»–é€šè¿‡å°†æ–‡ä»¶åç§°ä¸º<code>entity_count_type_part.txt</code>(<code>type</code>è¡¨ç¤ºå®ä½“ç±»å‹ï¼Œ<code>part</code>è¡¨ç¤ºåˆ†åŒºid)æ”¾åˆ°é…ç½®æ–‡ä»¶æŒ‡å®šçš„æ–‡ä»¶å¤¹æ¥å®ç°ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹åœ¨é…ç½®æ–‡ä»¶ä¸­çš„keyä¸º<code>entity_path</code>ã€‚ è¿™äº›æ–‡ä»¶(entity_count_type1_part1.txt, entity_count_type2_part2.txtâ€¦)å¿…é¡»åŒ…å«ä¸€ä¸ªæ•´æ•°ï¼ˆä½œä¸ºæ–‡æœ¬ï¼‰ï¼Œè¯¥æ•´æ•°è¡¨ç¤ºåœ¨è¯¥åˆ†åŒºä¸­å®ä½“çš„æ•°é‡ã€‚è¿™äº›æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•åç§°å¿…é¡»æŒ‡å®šä¸ºåœ¨é…ç½®æ–‡ä»¶ä¸‹çš„<code>entity_path</code>ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/27/PBG-I-O-format/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>


    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  
  
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/23/From-embedding-to-scores/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Bin">
      <meta itemprop="description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bin's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/23/From-embedding-to-scores/" class="post-title-link" itemprop="url">PyTorch-BigGraph ä»å®ä½“åµŒå…¥åˆ°è¾¹å¾—åˆ†</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-10-23 21:31:39" itemprop="dateCreated datePublished" datetime="2020-10-23T21:31:39-07:00">2020-10-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-30 18:24:00" itemprop="dateModified" datetime="2020-10-30T18:24:00-07:00">2020-10-30</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/10/23/From-embedding-to-scores/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/10/23/From-embedding-to-scores/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="From-entity-embeddings-to-edge-scores"><a href="#From-entity-embeddings-to-edge-scores" class="headerlink" title="From entity embeddings to edge scores"></a>From entity embeddings to edge scores</h1><p>The goal of training is to embed each entity in â„^D so that the embeddings of two entities are a good proxy to predict whether there is a relation of a certain type between them.<br>è®­ç»ƒçš„ç›®çš„æ˜¯å°†æ¯ä¸ªå®ä½“åµŒå…¥åˆ°Dç»´çš„å‘é‡ç©ºé—´ä¸­ï¼Œä»¥ä¾¿ä¸¤ä¸ªå®ä½“çš„åµŒå…¥å¯ä»¥å¾ˆå¥½åœ°é¢„æµ‹å®ƒä»¬ä¹‹é—´æ˜¯å¦å­˜åœ¨æŸç§ç±»å‹çš„å…³ç³»ã€‚</p>
<p>To be more precise, the goal is to learn an embedding for each entity and a function for each relation type that takes two entity embeddings and assigns them a score, with the goal of having positive relations achieve higher scores than negative ones.<br>æ›´ç¡®åˆ‡åœ°è¯´ï¼ŒPBGçš„ç›®æ ‡æ˜¯å­¦ä¹ æ¯ä¸ªå®ä½“çš„åµŒå…¥å’Œæ¯ç§å…³ç³»ç±»å‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå®ä½“åµŒå…¥å¹¶ä¸ºå…¶åˆ†é…ä¸€ä¸ªåˆ†æ•°ï¼Œç›®çš„æ˜¯ä½¿æ­£é¢å…³ç³»æ¯”è´Ÿé¢å…³ç³»è·å¾—æ›´é«˜çš„åˆ†æ•°ã€‚</p>
<blockquote>
<p>key point: å®ä½“-&gt;Dç»´å‘é‡ å…³ç³»-&gt;å‡½æ•°</p>
</blockquote>
<p>All the edges provided in the training set are considered positive instances. In order to perform training, a set of negative edges is needed as well. These are not provided by the user but instead generated by the system during training (Negative sampling), usually by fixing the left-hand side entity and the relation type and sampling a new right-hand side entity, or vice versa. This sampling scheme makes sense for large sparse graphs, where there is a low probability that edges generated this way are true positives edges in the graph.<br>è®­ç»ƒé›†ä¸­æä¾›çš„æ‰€æœ‰è¾¹è¢«è§†ä¸ºæ­£ä¾‹ã€‚ä¸ºäº†æ‰§è¡Œè®­ç»ƒï¼Œè¿˜éœ€è¦ä¸€äº›è´Ÿè¾¹ï¼ˆè´Ÿæ ·æœ¬ï¼‰ã€‚ è¿™äº›ä¸æ˜¯ç”±ç”¨æˆ·æä¾›çš„ï¼Œè€Œæ˜¯ç”±ç³»ç»Ÿåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ç”Ÿæˆçš„ï¼ˆè´Ÿé‡‡æ ·ï¼‰ï¼Œé€šå¸¸æ˜¯é€šè¿‡å›ºå®šå·¦ä¾§å®ä½“å’Œå…³ç³»ç±»å‹å¹¶é‡‡æ ·æ–°çš„å³ä¾§å®ä½“ï¼Œåä¹‹äº¦ç„¶ã€‚ å¯¹äºå¤§çš„ç¨€ç–å›¾ï¼Œè¿™ç§é‡‡æ ·æ–¹æ¡ˆæ˜¯æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºåœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œä»¥è¿™ç§æ–¹å¼ç”Ÿæˆçš„è¾¹ä¸ºå›¾ä¸­çš„æ­£ä¾‹çš„å¯èƒ½æ€§å¾ˆå°ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/23/From-embedding-to-scores/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>


    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  
  
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/23/Social-network/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Bin">
      <meta itemprop="description" content="æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bin's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/23/Social-network/" class="post-title-link" itemprop="url">ç¤¾äº¤ç½‘ç»œ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-10-23 16:02:16" itemprop="dateCreated datePublished" datetime="2020-10-23T16:02:16-07:00">2020-10-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-25 19:23:28" itemprop="dateModified" datetime="2020-10-25T19:23:28-07:00">2020-10-25</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/10/23/Social-network/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/10/23/Social-network/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="æ€»è§ˆ"><a href="#æ€»è§ˆ" class="headerlink" title="æ€»è§ˆ"></a>æ€»è§ˆ</h2><p>ç¤¾äº¤ç½‘ç»œä¸å›¾, ç¤¾äº¤ç½‘ç»œçš„èšç±», ç¤¾åŒºå‘ç°</p>
<h2 id="ç¤¾äº¤ç½‘ç»œä¸å›¾"><a href="#ç¤¾äº¤ç½‘ç»œä¸å›¾" class="headerlink" title="ç¤¾äº¤ç½‘ç»œä¸å›¾"></a>ç¤¾äº¤ç½‘ç»œä¸å›¾</h2><p>1.What is a network? a network can be defined as a graph in which nodes and/or edges have attributes (e.g. names). å¸¦æœ‰å±æ€§ä¿¡æ¯çš„å›¾</p>
<p>2.Networkâ€™s properties:</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/23/Social-network/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>


    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  
  

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Bin"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Bin</p>
  <div class="site-description" itemprop="description">æˆ‘ç†Šäººæ—æ°¸ä¸ä¸ºå¥´ï¼ï¼å¼å¼å¼ï¼ï¼ï¼</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">33</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Bin-Go2" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Bin-Go2" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:binzhangsam@gmail.com" title="E-Mail â†’ mailto:binzhangsam@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Bin</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv">æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡</span>

<div class="theme-info">
    <div class="powered-by"></div>
    <span class="post-count">å…±38.5kå­—</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://https-bin-go2-github-io.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>

</body>
</html>
